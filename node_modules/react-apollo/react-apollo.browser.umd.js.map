{"version":3,"file":"react-apollo.browser.umd.js","sources":["queryRecycler.js","QueryRecyclerProvider.js","ApolloProvider.js","shallowEqual.js","parser.js","graphql.js","withApollo.js"],"sourcesContent":["var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nvar ObservableQueryRecycler = (function () {\n    function ObservableQueryRecycler() {\n        this.observableQueries = [];\n    }\n    ObservableQueryRecycler.prototype.recycle = function (observableQuery) {\n        observableQuery.setOptions({\n            fetchPolicy: 'standby',\n            pollInterval: 0,\n            fetchResults: false,\n        });\n        this.observableQueries.push({\n            observableQuery: observableQuery,\n            subscription: observableQuery.subscribe({}),\n        });\n    };\n    ObservableQueryRecycler.prototype.reuse = function (options) {\n        if (this.observableQueries.length <= 0) {\n            return null;\n        }\n        var _a = this.observableQueries.pop(), observableQuery = _a.observableQuery, subscription = _a.subscription;\n        subscription.unsubscribe();\n        var ssr = options.ssr, skip = options.skip, client = options.client, modifiableOpts = __rest(options, [\"ssr\", \"skip\", \"client\"]);\n        observableQuery.setOptions(__assign({}, modifiableOpts, { pollInterval: options.pollInterval, fetchPolicy: options.fetchPolicy }));\n        return observableQuery;\n    };\n    return ObservableQueryRecycler;\n}());\nexport { ObservableQueryRecycler };\n//# sourceMappingURL=queryRecycler.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Component, Children } from 'react';\nimport * as PropTypes from 'prop-types';\nimport { ObservableQueryRecycler } from './queryRecycler';\nvar QueryRecyclerProvider = (function (_super) {\n    __extends(QueryRecyclerProvider, _super);\n    function QueryRecyclerProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.recyclers = new WeakMap();\n        _this.getQueryRecycler = _this.getQueryRecycler.bind(_this);\n        return _this;\n    }\n    QueryRecyclerProvider.prototype.componentWillReceiveProps = function (nextProps, nextContext) {\n        if (this.context.client !== nextContext.client) {\n            this.recyclers = new WeakMap();\n        }\n    };\n    QueryRecyclerProvider.prototype.getQueryRecycler = function (component) {\n        if (!this.recyclers.has(component)) {\n            this.recyclers.set(component, new ObservableQueryRecycler());\n        }\n        return this.recyclers.get(component);\n    };\n    QueryRecyclerProvider.prototype.getChildContext = function () {\n        return ({\n            getQueryRecycler: this.getQueryRecycler\n        });\n    };\n    QueryRecyclerProvider.prototype.render = function () {\n        return Children.only(this.props.children);\n    };\n    QueryRecyclerProvider.propTypes = {\n        children: PropTypes.element.isRequired\n    };\n    QueryRecyclerProvider.contextTypes = {\n        client: PropTypes.object\n    };\n    QueryRecyclerProvider.childContextTypes = {\n        getQueryRecycler: PropTypes.func.isRequired\n    };\n    return QueryRecyclerProvider;\n}(Component));\nexport default QueryRecyclerProvider;\n//# sourceMappingURL=QueryRecyclerProvider.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Component } from 'react';\nimport QueryRecyclerProvider from './QueryRecyclerProvider';\nvar invariant = require('invariant');\nvar ApolloProvider = (function (_super) {\n    __extends(ApolloProvider, _super);\n    function ApolloProvider(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        invariant(props.client, 'ApolloClient was not passed a client instance. Make ' +\n            'sure you pass in your client via the \"client\" prop.');\n        if (!props.store && typeof props.client.initStore === 'function') {\n            props.client.initStore();\n        }\n        return _this;\n    }\n    ApolloProvider.prototype.componentWillReceiveProps = function (nextProps) {\n        if (nextProps.client !== this.props.client &&\n            !nextProps.store &&\n            typeof nextProps.client.initStore === 'function') {\n            nextProps.client.initStore();\n        }\n    };\n    ApolloProvider.prototype.getChildContext = function () {\n        return {\n            store: this.props.store || this.context.store,\n            client: this.props.client,\n        };\n    };\n    ApolloProvider.prototype.render = function () {\n        return (React.createElement(QueryRecyclerProvider, null, React.Children.only(this.props.children)));\n    };\n    ApolloProvider.propTypes = {\n        store: PropTypes.shape({\n            subscribe: PropTypes.func.isRequired,\n            dispatch: PropTypes.func.isRequired,\n            getState: PropTypes.func.isRequired,\n        }),\n        client: PropTypes.object.isRequired,\n        children: PropTypes.element.isRequired,\n    };\n    ApolloProvider.childContextTypes = {\n        store: PropTypes.object,\n        client: PropTypes.object.isRequired,\n    };\n    ApolloProvider.contextTypes = {\n        store: PropTypes.object,\n    };\n    return ApolloProvider;\n}(Component));\nexport default ApolloProvider;\n//# sourceMappingURL=ApolloProvider.js.map","export default function shallowEqual(objA, objB) {\n    if (!objA || !objB)\n        return false;\n    if (objA === objB)\n        return true;\n    var keysA = Object.keys(objA);\n    var keysB = Object.keys(objB);\n    if (keysA.length !== keysB.length)\n        return false;\n    var hasOwn = Object.prototype.hasOwnProperty;\n    for (var i = 0; i < keysA.length; i++) {\n        if (!hasOwn.call(objB, keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\n            return false;\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=shallowEqual.js.map","var invariant = require('invariant');\nexport var DocumentType;\n(function (DocumentType) {\n    DocumentType[DocumentType[\"Query\"] = 0] = \"Query\";\n    DocumentType[DocumentType[\"Mutation\"] = 1] = \"Mutation\";\n    DocumentType[DocumentType[\"Subscription\"] = 2] = \"Subscription\";\n})(DocumentType || (DocumentType = {}));\nexport function parser(document) {\n    var variables, type, name;\n    invariant(!!document && !!document.kind, \"Argument of \" + document + \" passed to parser was not a valid GraphQL DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document\");\n    var fragments = document.definitions.filter(function (x) { return x.kind === 'FragmentDefinition'; });\n    var queries = document.definitions.filter(function (x) {\n        return x.kind === 'OperationDefinition' && x.operation === 'query';\n    });\n    var mutations = document.definitions.filter(function (x) {\n        return x.kind === 'OperationDefinition' && x.operation === 'mutation';\n    });\n    var subscriptions = document.definitions.filter(function (x) {\n        return x.kind === 'OperationDefinition' && x.operation === 'subscription';\n    });\n    invariant(!fragments.length ||\n        (queries.length || mutations.length || subscriptions.length), \"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well\");\n    invariant(queries.length + mutations.length + subscriptions.length <= 1, \"react-apollo only supports a query, subscription, or a mutation per HOC. \" + document + \" had \" + queries.length + \" queries, \" + subscriptions.length + \" subscriptions and \" + mutations.length + \" mutations. You can use 'compose' to join multiple operation types to a component\");\n    type = queries.length ? DocumentType.Query : DocumentType.Mutation;\n    if (!queries.length && !mutations.length)\n        type = DocumentType.Subscription;\n    var definitions = queries.length\n        ? queries\n        : mutations.length ? mutations : subscriptions;\n    invariant(definitions.length === 1, \"react-apollo only supports one defintion per HOC. \" + document + \" had \" + definitions.length + \" definitions. You can use 'compose' to join multiple operation types to a component\");\n    var definition = definitions[0];\n    variables = definition.variableDefinitions || [];\n    var hasName = definition.name && definition.name.kind === 'Name';\n    name = hasName ? definition.name.value : 'data';\n    return { name: name, type: type, variables: variables };\n}\n//# sourceMappingURL=parser.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport { Component, createElement } from 'react';\nimport * as PropTypes from 'prop-types';\nvar pick = require('lodash.pick');\nimport shallowEqual from './shallowEqual';\nvar invariant = require('invariant');\nvar assign = require('object-assign');\nvar hoistNonReactStatics = require('hoist-non-react-statics');\nimport { parser, DocumentType } from './parser';\nvar defaultMapPropsToOptions = function (props) { return ({}); };\nvar defaultMapResultToProps = function (props) { return props; };\nvar defaultMapPropsToSkip = function (props) { return false; };\nfunction observableQueryFields(observable) {\n    var fields = pick(observable, 'variables', 'refetch', 'fetchMore', 'updateQuery', 'startPolling', 'stopPolling', 'subscribeToMore');\n    Object.keys(fields).forEach(function (key) {\n        if (typeof fields[key] === 'function') {\n            fields[key] = fields[key].bind(observable);\n        }\n    });\n    return fields;\n}\nfunction getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\nvar nextVersion = 0;\nexport default function graphql(document, operationOptions) {\n    if (operationOptions === void 0) { operationOptions = {}; }\n    var _a = operationOptions.options, options = _a === void 0 ? defaultMapPropsToOptions : _a, _b = operationOptions.skip, skip = _b === void 0 ? defaultMapPropsToSkip : _b, _c = operationOptions.alias, alias = _c === void 0 ? 'Apollo' : _c;\n    var mapPropsToOptions = options;\n    if (typeof mapPropsToOptions !== 'function')\n        mapPropsToOptions = function () { return options; };\n    var mapPropsToSkip = skip;\n    if (typeof mapPropsToSkip !== 'function')\n        mapPropsToSkip = function () { return skip; };\n    var mapResultToProps = operationOptions.props;\n    var operation = parser(document);\n    var version = nextVersion++;\n    function wrapWithApolloComponent(WrappedComponent) {\n        var graphQLDisplayName = alias + \"(\" + getDisplayName(WrappedComponent) + \")\";\n        var GraphQL = (function (_super) {\n            __extends(GraphQL, _super);\n            function GraphQL(props, context) {\n                var _this = _super.call(this, props, context) || this;\n                _this.previousData = {};\n                _this.version = version;\n                _this.type = operation.type;\n                _this.dataForChildViaMutation = _this.dataForChildViaMutation.bind(_this);\n                _this.setWrappedInstance = _this.setWrappedInstance.bind(_this);\n                return _this;\n            }\n            GraphQL.prototype.componentWillMount = function () {\n                if (!this.shouldSkip(this.props)) {\n                    this.setInitialProps();\n                }\n            };\n            GraphQL.prototype.componentDidMount = function () {\n                this.hasMounted = true;\n                if (this.type === DocumentType.Mutation)\n                    return;\n                if (!this.shouldSkip(this.props)) {\n                    this.subscribeToQuery();\n                    if (this.refetcherQueue) {\n                        var _a = this.refetcherQueue, args = _a.args, resolve = _a.resolve, reject = _a.reject;\n                        this.queryObservable.refetch(args).then(resolve).catch(reject);\n                    }\n                }\n            };\n            GraphQL.prototype.componentWillReceiveProps = function (nextProps, nextContext) {\n                var client = mapPropsToOptions(nextProps).client;\n                if (shallowEqual(this.props, nextProps) &&\n                    (this.client === client || this.client === nextContext.client)) {\n                    return;\n                }\n                this.shouldRerender = true;\n                if (this.client !== client && this.client !== nextContext.client) {\n                    if (client) {\n                        this.client = client;\n                    }\n                    else {\n                        this.client = nextContext.client;\n                    }\n                    this.unsubscribeFromQuery();\n                    this.queryObservable = null;\n                    this.previousData = {};\n                    this.updateQuery(nextProps);\n                    if (!this.shouldSkip(nextProps)) {\n                        this.subscribeToQuery();\n                    }\n                    return;\n                }\n                if (this.type === DocumentType.Mutation) {\n                    return;\n                }\n                if (this.type === DocumentType.Subscription &&\n                    operationOptions.shouldResubscribe &&\n                    operationOptions.shouldResubscribe(this.props, nextProps)) {\n                    this.unsubscribeFromQuery();\n                    delete this.queryObservable;\n                    this.updateQuery(nextProps);\n                    this.subscribeToQuery();\n                    return;\n                }\n                if (this.shouldSkip(nextProps)) {\n                    if (!this.shouldSkip(this.props)) {\n                        this.unsubscribeFromQuery();\n                    }\n                    return;\n                }\n                this.updateQuery(nextProps);\n                this.subscribeToQuery();\n            };\n            GraphQL.prototype.componentWillUnmount = function () {\n                if (this.type === DocumentType.Query) {\n                    if (this.queryObservable) {\n                        var recycler = this.getQueryRecycler();\n                        if (recycler) {\n                            recycler.recycle(this.queryObservable);\n                            delete this.queryObservable;\n                        }\n                    }\n                    this.unsubscribeFromQuery();\n                }\n                if (this.type === DocumentType.Subscription)\n                    this.unsubscribeFromQuery();\n                this.hasMounted = false;\n            };\n            GraphQL.prototype.getQueryRecycler = function () {\n                return (this.context.getQueryRecycler &&\n                    this.context.getQueryRecycler(GraphQL));\n            };\n            GraphQL.prototype.getClient = function (props) {\n                if (this.client)\n                    return this.client;\n                var client = mapPropsToOptions(props).client;\n                if (client) {\n                    this.client = client;\n                }\n                else {\n                    this.client = this.context.client;\n                }\n                invariant(!!this.client, \"Could not find \\\"client\\\" in the context of \" +\n                    (\"\\\"\" + graphQLDisplayName + \"\\\". \") +\n                    \"Wrap the root component in an <ApolloProvider>\");\n                return this.client;\n            };\n            GraphQL.prototype.calculateOptions = function (props, newOpts) {\n                if (props === void 0) { props = this.props; }\n                var opts = mapPropsToOptions(props);\n                if (newOpts && newOpts.variables) {\n                    newOpts.variables = assign({}, opts.variables, newOpts.variables);\n                }\n                if (newOpts)\n                    opts = assign({}, opts, newOpts);\n                if (opts.variables || !operation.variables.length)\n                    return opts;\n                var variables = {};\n                for (var _i = 0, _a = operation.variables; _i < _a.length; _i++) {\n                    var _b = _a[_i], variable = _b.variable, type = _b.type;\n                    if (!variable.name || !variable.name.value)\n                        continue;\n                    if (typeof props[variable.name.value] !== 'undefined') {\n                        variables[variable.name.value] = props[variable.name.value];\n                        continue;\n                    }\n                    if (type.kind !== 'NonNullType') {\n                        variables[variable.name.value] = null;\n                        continue;\n                    }\n                    invariant(typeof props[variable.name.value] !== 'undefined', \"The operation '\" + operation.name + \"' wrapping '\" + getDisplayName(WrappedComponent) + \"' \" +\n                        (\"is expecting a variable: '\" + variable.name\n                            .value + \"' but it was not found in the props \") +\n                        (\"passed to '\" + graphQLDisplayName + \"'\"));\n                }\n                opts = __assign({}, opts, { variables: variables });\n                return opts;\n            };\n            GraphQL.prototype.calculateResultProps = function (result) {\n                var name = this.type === DocumentType.Mutation ? 'mutate' : 'data';\n                if (operationOptions.name)\n                    name = operationOptions.name;\n                var newResult = (_a = {},\n                    _a[name] = result,\n                    _a.ownProps = this.props,\n                    _a);\n                if (mapResultToProps)\n                    return mapResultToProps(newResult);\n                return _b = {}, _b[name] = defaultMapResultToProps(result), _b;\n                var _a, _b;\n            };\n            GraphQL.prototype.setInitialProps = function () {\n                if (this.type === DocumentType.Mutation) {\n                    return;\n                }\n                var opts = this.calculateOptions(this.props);\n                this.createQuery(opts);\n            };\n            GraphQL.prototype.createQuery = function (opts, props) {\n                if (props === void 0) { props = this.props; }\n                if (this.type === DocumentType.Subscription) {\n                    this.queryObservable = this.getClient(props).subscribe(assign({\n                        query: document,\n                    }, opts));\n                }\n                else {\n                    var recycler = this.getQueryRecycler();\n                    var queryObservable = null;\n                    if (recycler)\n                        queryObservable = recycler.reuse(opts);\n                    if (queryObservable === null) {\n                        this.queryObservable = this.getClient(props).watchQuery(assign({\n                            query: document,\n                            metadata: {\n                                reactComponent: {\n                                    displayName: graphQLDisplayName,\n                                },\n                            },\n                        }, opts));\n                    }\n                    else {\n                        this.queryObservable = queryObservable;\n                    }\n                }\n            };\n            GraphQL.prototype.updateQuery = function (props) {\n                var opts = this.calculateOptions(props);\n                if (!this.queryObservable) {\n                    this.createQuery(opts, props);\n                }\n                if (this.queryObservable._setOptionsNoResult) {\n                    this.queryObservable._setOptionsNoResult(opts);\n                }\n                else {\n                    if (this.queryObservable.setOptions) {\n                        this.queryObservable\n                            .setOptions(opts)\n                            .catch(function (error) { return null; });\n                    }\n                }\n            };\n            GraphQL.prototype.fetchData = function () {\n                if (this.shouldSkip())\n                    return false;\n                if (operation.type === DocumentType.Mutation ||\n                    operation.type === DocumentType.Subscription)\n                    return false;\n                var opts = this.calculateOptions();\n                if (opts.ssr === false)\n                    return false;\n                if (opts.fetchPolicy === 'network-only' ||\n                    opts.fetchPolicy === 'cache-and-network') {\n                    opts.fetchPolicy = 'cache-first';\n                }\n                var observable = this.getClient(this.props).watchQuery(assign({ query: document }, opts));\n                var result = observable.currentResult();\n                if (result.loading) {\n                    return observable.result();\n                }\n                else {\n                    return false;\n                }\n            };\n            GraphQL.prototype.subscribeToQuery = function () {\n                var _this = this;\n                if (this.querySubscription) {\n                    return;\n                }\n                var next = function (results) {\n                    if (_this.type === DocumentType.Subscription) {\n                        _this.lastSubscriptionData = results;\n                        results = { data: results };\n                    }\n                    var clashingKeys = Object.keys(observableQueryFields(results.data));\n                    invariant(clashingKeys.length === 0, \"the result of the '\" + graphQLDisplayName + \"' operation contains keys that \" +\n                        \"conflict with the return object.\" +\n                        clashingKeys.map(function (k) { return \"'\" + k + \"'\"; }).join(', ') +\n                        \" not allowed.\");\n                    _this.forceRenderChildren();\n                };\n                var handleError = function (error) {\n                    if (error.hasOwnProperty('graphQLErrors'))\n                        return next({ error: error });\n                    throw error;\n                };\n                this.querySubscription = this.queryObservable.subscribe({\n                    next: next,\n                    error: handleError,\n                });\n            };\n            GraphQL.prototype.unsubscribeFromQuery = function () {\n                if (this.querySubscription) {\n                    this.querySubscription.unsubscribe();\n                    delete this.querySubscription;\n                }\n            };\n            GraphQL.prototype.shouldSkip = function (props) {\n                if (props === void 0) { props = this.props; }\n                return (mapPropsToSkip(props) || mapPropsToOptions(props).skip);\n            };\n            GraphQL.prototype.forceRenderChildren = function () {\n                this.shouldRerender = true;\n                if (this.hasMounted)\n                    this.forceUpdate();\n            };\n            GraphQL.prototype.getWrappedInstance = function () {\n                invariant(operationOptions.withRef, \"To access the wrapped instance, you need to specify \" +\n                    \"{ withRef: true } in the options\");\n                return this.wrappedInstance;\n            };\n            GraphQL.prototype.setWrappedInstance = function (ref) {\n                this.wrappedInstance = ref;\n            };\n            GraphQL.prototype.dataForChildViaMutation = function (mutationOpts) {\n                var opts = this.calculateOptions(this.props, mutationOpts);\n                if (typeof opts.variables === 'undefined')\n                    delete opts.variables;\n                opts.mutation = document;\n                return this.getClient(this.props).mutate(opts);\n            };\n            GraphQL.prototype.dataForChild = function () {\n                var _this = this;\n                if (this.type === DocumentType.Mutation) {\n                    return this.dataForChildViaMutation;\n                }\n                var opts = this.calculateOptions(this.props);\n                var data = {};\n                assign(data, observableQueryFields(this.queryObservable));\n                if (this.type === DocumentType.Subscription) {\n                    assign(data, {\n                        loading: !this.lastSubscriptionData,\n                        variables: opts.variables,\n                    }, this.lastSubscriptionData);\n                }\n                else {\n                    var currentResult = this.queryObservable.currentResult();\n                    var loading = currentResult.loading, error_1 = currentResult.error, networkStatus = currentResult.networkStatus;\n                    assign(data, { loading: loading, networkStatus: networkStatus });\n                    var logErrorTimeoutId_1 = setTimeout(function () {\n                        if (error_1) {\n                            console.error('Unhandled (in react-apollo)', error_1.stack || error_1);\n                        }\n                    }, 10);\n                    Object.defineProperty(data, 'error', {\n                        configurable: true,\n                        enumerable: true,\n                        get: function () {\n                            clearTimeout(logErrorTimeoutId_1);\n                            return error_1;\n                        },\n                    });\n                    if (loading) {\n                        assign(data, this.previousData, currentResult.data);\n                    }\n                    else if (error_1) {\n                        assign(data, (this.queryObservable.getLastResult() || {}).data);\n                    }\n                    else {\n                        assign(data, currentResult.data);\n                        this.previousData = currentResult.data;\n                    }\n                    if (!this.querySubscription) {\n                        data.refetch = function (args) {\n                            return new Promise(function (r, f) {\n                                _this.refetcherQueue = { resolve: r, reject: f, args: args };\n                            });\n                        };\n                    }\n                }\n                return data;\n            };\n            GraphQL.prototype.render = function () {\n                if (this.shouldSkip()) {\n                    if (operationOptions.withRef) {\n                        return createElement(WrappedComponent, assign({}, this.props, { ref: this.setWrappedInstance }));\n                    }\n                    return createElement(WrappedComponent, this.props);\n                }\n                var _a = this, shouldRerender = _a.shouldRerender, renderedElement = _a.renderedElement, props = _a.props;\n                this.shouldRerender = false;\n                if (!shouldRerender &&\n                    renderedElement &&\n                    renderedElement.type === WrappedComponent) {\n                    return renderedElement;\n                }\n                var data = this.dataForChild();\n                var clientProps = this.calculateResultProps(data);\n                var mergedPropsAndData = assign({}, props, clientProps);\n                if (operationOptions.withRef)\n                    mergedPropsAndData.ref = this.setWrappedInstance;\n                this.renderedElement = createElement(WrappedComponent, mergedPropsAndData);\n                return this.renderedElement;\n            };\n            GraphQL.displayName = graphQLDisplayName;\n            GraphQL.WrappedComponent = WrappedComponent;\n            GraphQL.contextTypes = {\n                client: PropTypes.object,\n                getQueryRecycler: PropTypes.func,\n            };\n            return GraphQL;\n        }(Component));\n        return hoistNonReactStatics(GraphQL, WrappedComponent, {});\n    }\n    return wrapWithApolloComponent;\n}\n//# sourceMappingURL=graphql.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Component, createElement, } from 'react';\nimport * as PropTypes from 'prop-types';\nvar invariant = require('invariant');\nvar assign = require('object-assign');\nvar hoistNonReactStatics = require('hoist-non-react-statics');\nfunction getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\nexport function withApollo(WrappedComponent, operationOptions) {\n    if (operationOptions === void 0) { operationOptions = {}; }\n    var withDisplayName = \"withApollo(\" + getDisplayName(WrappedComponent) + \")\";\n    var WithApollo = (function (_super) {\n        __extends(WithApollo, _super);\n        function WithApollo(props, context) {\n            var _this = _super.call(this, props, context) || this;\n            _this.client = context.client;\n            _this.setWrappedInstance = _this.setWrappedInstance.bind(_this);\n            invariant(!!_this.client, \"Could not find \\\"client\\\" in the context of \" +\n                (\"\\\"\" + withDisplayName + \"\\\". \") +\n                \"Wrap the root component in an <ApolloProvider>\");\n            return _this;\n        }\n        WithApollo.prototype.getWrappedInstance = function () {\n            invariant(operationOptions.withRef, \"To access the wrapped instance, you need to specify \" +\n                \"{ withRef: true } in the options\");\n            return this.wrappedInstance;\n        };\n        WithApollo.prototype.setWrappedInstance = function (ref) {\n            this.wrappedInstance = ref;\n        };\n        WithApollo.prototype.render = function () {\n            var props = assign({}, this.props);\n            props.client = this.client;\n            if (operationOptions.withRef)\n                props.ref = this.setWrappedInstance;\n            return createElement(WrappedComponent, props);\n        };\n        WithApollo.displayName = withDisplayName;\n        WithApollo.WrappedComponent = WrappedComponent;\n        WithApollo.contextTypes = { client: PropTypes.object.isRequired };\n        return WithApollo;\n    }(Component));\n    return hoistNonReactStatics(WithApollo, WrappedComponent, {});\n}\n//# sourceMappingURL=withApollo.js.map"],"names":["this","__extends","Children","PropTypes.element","PropTypes.object","PropTypes.func","Component","React.createElement","React.Children","PropTypes.shape","invariant","__assign","createElement","assign","hoistNonReactStatics","getDisplayName"],"mappings":"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"}